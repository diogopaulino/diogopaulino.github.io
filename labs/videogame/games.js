const B = "https://raw.githubusercontent.com/libretro-thumbnails/Sega_-_Mega_Drive_-_Genesis/master/Named_Boxarts/";
const S = "https://qfsxjpxkihnrcqpomrkw.supabase.co/storage/v1/object/public/game/mega-drive/";

const encodeName = (s) =>
  s
    .replace(/ /g, "%20")
    .replace(/,/g, "%2C")
    .replace(/\(/g, "%28")
    .replace(/\)/g, "%29")
    .replace(/&/g, "%26")
    .replace(/'/g, "%27");

const generateUrls = (t, c) => {
  const v = [t];
  if (t.includes(", The")) v.push("The " + t.replace(", The", ""));
  if (t.includes("&")) {
    const a = t.replace(/&/g, "and");
    v.push(a);
    if (a.includes(", The")) v.push("The " + a.replace(", The", ""));
  }
  if (t.includes("Special Edition")) v.push(t.replace("Special Edition", "").trim());

  const regions = [" (USA)", " (Europe)", " (World)", " (Japan)", " (USA, En)", " (Europe, En)", " (World, En)", " (Japan, En)", ""];
  const u = new Set();

  if (c) u.add(B + c);

  v.forEach((x) => {
    regions.forEach((y) => {
      u.add(B + encodeName(x + y) + ".png");
    });
  });

  return Array.from(u);
};

// Lista atualizada a partir do TXT final (verdade)
const _g = [
  ["addam.zip", "Addams Family, The", "Addams%20Family%2C%20The%20%28USA%2C%20Europe%29.png"],
  ["batnrob.zip", "Adventures of Batman & Robin, The", "Adventures%20of%20Batman%20_%20Robin%2C%20The%20%28USA%29.png"],
  ["aerobls.zip", "Aero Blasters", "Aero%20Blasters%20%28Japan%29.png"],
  ["aeroacr2.zip", "Aero the Acro-Bat 2", "Aero%20the%20Acro-Bat%202%20%28USA%29.png"],
  ["aftburn2.zip", "After Burner II", "After%20Burner%20II%20%28USA%29.png"],
  ["aladdin.zip", "Aladdin", "Aladdin%20%28USA%29.png"],
  ["alien3.zip", "Alien 3", "Alien%203%20%28USA%29.png"],
  ["alienso.zip", "Alien Soldier", "Alien%20Soldier%20%28Europe%29.png"],
  ["astormbl.zip", "Alien Storm", "Alien%20Storm%20%28USA%29.png"],
  ["alisiadr.zip", "Alisia Dragoon", "Alisia%20Dragoon%20%28USA%29.png"],
  ["altbeast.zip", "Altered Beast", "Altered%20Beast%20%28USA%29.png"],
  ["animan.zip", "Animaniacs", "Animaniacs%20%28USA%29.png"],
  ["another.zip", "Another World", "Another%20World%20%28Europe%29.png"],
  ["aquatic.zip", "Aquatic Games Starring James Pond and the Aquabats, The", "Aquatic%20Games%2C%20Starring%20James%20Pond%20and%20the%20Aquabats%2C%20The%20%28USA%29.png"],
  ["arcad.zip", "Arcade Classics", "Arcade%20Classics%20%28Europe%29.png"],
  ["ariel.zip", "Ariel the Little Mermaid", "Ariel%20the%20Little%20Mermaid%20%28USA%29.png"],
  ["aflash.zip", "Arrow Flash", "Arrow%20Flash%20%28USA%29.png"],
  ["asterix.zip", "Asterix and the Great Rescue", "Asterix%20and%20the%20Great%20Rescue%20%28USA%29.png"],
  ["ast-pgod.zip", "Asterix and the Power of the Gods", "Asterix%20and%20the%20Power%20of%20the%20Gods%20%28Europe%29.png"],
  ["atomic_r.zip", "Atomic Robo-Kid", "Atomic%20Robo-Kid%20%28USA%29.png"],
  ["apossum.zip", "Awesome Possum Kicks Dr. Machino's Butt", "Awesome%20Possum%20Kicks%20Dr.%20Machino%27s%20Butt%20%28USA%29.png"],
  ["bob.zip", "B.O.B.", "B.O.B.%20%28USA%29.png"],
  ["badomen.zip", "Bad Omen", "Bad%20Omen%20%28Japan%29.png"],
  ["barntine.zip", "Barney's Hide & Seek Game", "Barney%27s%20Hide%20%26%20Seek%20Game%20%28USA%29.png"],
  ["batwings.zip", "Batman Forever", "Batman%20Forever%20%28Europe%29.png"],
  ["bb-roar.zip", "Berenstain Bears' Camping Adventure, The", "Berenstain%20Bears%27%20Camping%20Adventure%2C%20The%20%28USA%29.png"],
  ["biohaz.zip", "Bio-Hazard Battle", "Bio%20Hazard%20Battle%20%28USA%29.png"],
  ["bld-veng.zip", "Blades of Vengeance", "Blades%20of%20Vengeance%20%28Europe%29.png"],
  ["blas.zip", "Blaster Master 2", "Blaster%20Master%202%20%28USA%29.png"],
  ["blockout.zip", "Block Out", null],
  ["bonkers.zip", "Bonkers", "Bonkers%20%28USA%29.png"],
  ["boog.zip", "Boogerman - A Pick and Flick Adventure", "Boogerman%20-%20A%20Pick%20and%20Flick%20Adventure%20%28USA%29.png"],
  ["bramdac.zip", "Bram Stoker's Dracula", "Bram%20Stoker%27s%20Dracula%20%28USA%29.png"],
  ["bubb.zip", "Bubba 'n' Stix", "Bubba%20%27n%27%20Stix%20%28USA%29.png"],
  ["bubsy2.zip", "Bubsy II", "Bubsy%20II%20%28Europe%29.png"],
  ["bugsdff.zip", "Bugs Bunny in Double Trouble", "Bugs%20Bunny%20in%20Double%20Trouble%20%28USA%29.png"],
  ["cal50.zip", "Caliber .50", "Caliber%20.50%20%28USA%29.png"],
  ["cann.zip", "Cannon Fodder", "Cannon%20Fodder%20%28Europe%29.png"],
  ["captaina.zip", "Captain America and the Avengers", "Captain%20America%20and%20the%20Avengers%20%28USA%29.png"],
  ["castleoi.zip", "Castle of Illusion Starring Mickey Mouse", "Castle%20of%20Illusion%20Starring%20Mickey%20Mouse%20%28USA%29.png"],
  ["castlevn.zip", "Castlevania - Bloodlines", "Castlevania%20-%20Bloodlines%20%28USA%29.png"],
  ["chakan.zip", "Chakan", "Chakan%20The%20Forever%20Man%20%28USA%29.png"],
  ["chaoseng.zip", "Chaos Engine, The", "Chaos%20Engine%2C%20The%20%28Europe%29.png"],
  ["chester.zip", "Chester Cheetah - Too Cool to Fool", "Chester%20Cheetah%20-%20Too%20Cool%20to%20Fool%20%28USA%29.png"],
  ["chuckr1.zip", "Chuck Rock", "Chuck%20Rock%20%28USA%29.png"],
  ["chuckr2.zip", "Chuck Rock II - Son of Chuck", "Chuck%20Rock%20II%20-%20Son%20of%20Chuck%20%28USA%29.png"],
  ["columns3.zip", "Columns III - Revenge of Columns", "Columns%20III%20-%20Revenge%20of%20Columns%20%28USA%29.png"],
  ["combatca.zip", "Combat Cars", "Combat%20Cars%20%28Europe%29.png"],
  ["comix.zip", "Comix Zone", "Comix%20Zone%20%28USA%29.png"],
  ["contra4.zip", "Contra - Hard Corps", "Contra%20-%20Hard%20Corps%20%28USA%29.png"],
  ["coolspot.zip", "Cool Spot", "Cool%20Spot%20%28USA%29.png"],
  ["crosfire.zip", "CrossFire", "CrossFire%20%28USA%29.png"],
  ["crueball.zip", "Crue Ball", "Crue%20Ball%20%28Japan%29.png"],
  ["curse.zip", "Curse", "Curse%20%28Japan%29.png"],
  ["daffy.zip", "Daffy Duck in Hollywood", "Daffy%20Duck%20in%20Hollywood%20%28Europe%29.png"],
  ["dang.zip", "Dangerous Seed", "Dangerous%20Seed%20%28Japan%29.png"],
  ["darius2.zip", "Darius II", "Darius%20II%20%28Europe%29.png"],
  ["dashinde.zip", "Dashin' Desperadoes", "Dashin%27%20Desperadoes%20%28USA%29.png"],
  ["decapatk.zip", "Decap Attack Starring Chuck D. Head", "Decap%20Attack%20Starring%20Chuck%20D.%20Head%20%28USA%29.png"],
  ["devilcra.zip", "Devil's Crush", "Devil%27s%20Crush%20%28Japan%29.png"],
  ["robotnik.zip", "Dr. Robotnik's Mean Bean Machine", "Dr.%20Robotnik%27s%20Mean%20Bean%20Machine%20%28USA%29.png"],
  ["e-swat.zip", "ESWAT - City Under Siege", "ESWAT%20-%20City%20Under%20Siege%20%28USA%29.png"],
  ["e_jim2.zip", "Earthworm Jim 2", "Earthworm%20Jim%202%20%28USA%29.png"],
  ["eccojr.zip", "Ecco Jr.", "Ecco%20Jr.%20%28USA%29.png"],
  ["elviento.zip", "El Viento", "El%20Viento%20%28USA%29.png"],
  ["evans.zip", "Evander Holyfield's 'Real Deal' Boxing", "Evander%20Holyfield%27s%20%27Real%20Deal%27%20Boxing%20%28USA%29.png"],
  ["fata.zip", "Fatal Fury", "Fatal%20Fury%20%28USA%29.png"],
  ["fido.zip", "Fido Dido", null],
  ["flashbck.zip", "Flashback - The Quest for Identity", "Flashback%20-%20The%20Quest%20for%20Identity%20%28USA%29.png"],
  ["fstones.zip", "Flintstones, The", "Flintstones%2C%20The%20%28USA%29.png"],
  ["fworlds.zip", "Forgotten Worlds", "Forgotten%20Worlds%20%28Europe%29.png"],
  ["gloc.zip", "G-LOC Air Battle", "G-LOC%20Air%20Battle%20%28World%29.png"],
  ["garg.zip", "Gargoyles", "Gargoyles%20%28USA%29.png"],
  ["ghouls.zip", "Ghouls 'n Ghosts", "Ghouls%20%27n%20Ghosts%20%28USA%29.png"],
  ["gods.zip", "Gods", "Gods%20%28USA%29.png"],
  ["golden_axe.zip", "Golden Axe", "Golden%20Axe%20%28USA%29.png"],
  ["golden_axe_2.zip", "Golden Axe II", "Golden%20Axe%20II%20%28USA%29.png"],
  ["golden_axe_3.zip", "Golden Axe III", "Golden%20Axe%20III%20%28Japan%29.png"],
  ["goofy.zip", "Goofy's Hysterical History Tour", "Goofy%27s%20Hysterical%20History%20Tour%20%28USA%29.png"],
  ["greendog.zip", "Greendog - The Beached Surfer Dude!", "Greendog%20-%20The%20Beached%20Surfer%20Dude%21%20%28USA%29.png"],
  ["grindsto.zip", "Grind Stormer", "Grind%20Stormer%20%28USA%29.png"],
  ["gunstarh.zip", "Gunstar Heroes", "Gunstar%20Heroes%20%28USA%29.png"],
  ["gynoug.zip", "Gynoug", "Gynoug%20%28USA%29.png"],
  ["haunting.zip", "Haunting Starring Polterguy", "Haunting%20Starring%20Polterguy%20%28Europe%29.png"],
  ["hellfire.zip", "Hellfire", "Hellfire%20%28USA%29.png"],
  ["hitheice.zip", "Hit the Ice", "Hit%20the%20Ice%20%28USA%29.png"],
  ["hook.zip", "Hook", "Hook%20%28USA%29.png"],
  ["humans.zip", "Humans, The", "Humans%2C%20The%20%28USA%29.png"],
  ["immortal.zip", "Immortal, The", "Immortal%2C%20The%20%28USA%29.png"],
  ["hulk.zip", "Incredible Hulk, The", "Incredible%20Hulk%2C%20The%20%28Europe%29.png"],
  ["insectox.zip", "Insector X", "Insector%20X%20%28Japan%29.png"],
  ["j_pond2.zip", "James Pond 2 - Codename RoboCod", "James%20Pond%202%20-%20Codename%20RoboCod%20%28USA%29.png"],
  ["joemac.zip", "Joe & Mac", "Joe%20%26%20Mac%20%28USA%29.png"],
  ["junglebo.zip", "Jungle Book, The", "Jungle%20Book%2C%20The%20%28USA%29.png"],
  ["kidc.zip", "Kid Chameleon", "Kid%20Chameleon%20%28USA%29.png"],
  ["klax.zip", "Klax", "Klax%20%28Europe%29.png"],
  ["lemmin.zip", "Lemmings", "Lemmings%20%28USA%29.png"],
  ["lethal.zip", "Lethal Enforcers", "Lethal%20Enforcers%20%28USA%29.png"],
  ["lionking.zip", "Lion King, The", "Lion%20King%2C%20The%20%28Europe%29.png"],
  ["lvikings.zip", "Lost Vikings, The", "Lost%20Vikings%2C%20The%20%28USA%29.png"],
  ["lost.zip", "Lost World, The - Jurassic Park", "Lost%20World%2C%20The%20-%20Jurassic%20Park%20%28USA%29.png"],
  ["lotus2.zip", "Lotus Turbo Challenge 2", "Lotus%20Turbo%20Challenge%202%20%28USA%29.png"],
  ["marblem.zip", "Marble Madness", "Marble%20Madness%20%28USA%29.png"],
  ["marvel.zip", "Marvel Land", "Marvel%20Land%20%28Japan%29.png"],
  ["msfrank.zip", "Mary Shelley's Frankenstein", "Mary%20Shelley%27s%20Frankenstein%20%28USA%29.png"],
  ["mazi.zip", "Mazin Saga - Mutant Fighter", "Mazin%20Saga%20-%20Mutant%20Fighter%20%28USA%29.png"],
  ["megapani.zip", "Mega Panel", "Mega%20Panel%20%28Japan%29.png"],
  ["mercs.zip", "Mercs", "Mercs%20%28USA%29.png"],
  ["moonwalk.zip", "Michael Jackson's Moonwalker", "Michael%20Jackson%27s%20Moonwalker%20%28USA%29.png"],
  ["mick.zip", "Mickey Mania - The Timeless Adventures of Mickey Mouse", "Mickey%20Mania%20-%20The%20Timeless%20Adventures%20of%20Mickey%20Mouse%20%28USA%29.png"],
  ["mikywrld.zip", "Mickey's Ultimate Challenge", "Mickey%27s%20Ultimate%20Challenge%20%28USA%29.png"],
  ["microm.zip", "Micro Machines", "Micro%20Machines%20%28USA%29.png"],
  ["midres.zip", "Midnight Resistance", "Midnight%20Resistance%20%28USA%29.png"],
  ["musha.zip", "Musha - Metallic Uniframe Super Hybrid Armor", "MUSHA%20-%20Metallic%20Uniframe%20Super%20Hybrid%20Armor%20%28USA%29.png"],
  ["nbal.zip", "NBA Live 95", "NBA%20Live%2095%20%28Europe%29.png"],
  ["nhl97.zip", "NHL 97", "NHL%2097%20%28Europe%29.png"],
  ["nz-story.zip", "New Zealand Story, The", "New%20Zealand%20Story%2C%20The%20%28Japan%29.png"],
  ["normy.zip", "Normy's Beach Babe-O-Rama", "Normy%27s%20Beach%20Babe-O-Rama%20%28USA%29.png"],
  ["outr2019.zip", "OutRun 2019", "OutRun%202019%20%28USA%29.png"],
  ["pacatack.zip", "Pac-Attack", "Pac-Attack%20%28USA%29.png"],
  ["pacman2.zip", "Pac-Man 2 - The New Adventures", "Pac-Man%202%20-%20The%20New%20Adventures%20%28USA%29.png"],
  ["phelios.zip", "Phelios", "Phelios%20%28USA%29.png"],
  ["pino.zip", "Pinocchio", "Pinocchio%20%28USA%29.png"],
  ["pira.zip", "Pirates!", "Pirates%21%20%28USA%29.png"],
  ["pitfig.zip", "Pit-Fighter", "Pit-Fighter%20%28Japan%29.png"],
  ["pochon.zip", "Pocahontas", "Pocahontas%20%28USA%29.png"],
  ["popu.zip", "Populous", "Populous%20%28USA%29.png"],
  ["prince.zip", "Prince of Persia", "Prince%20of%20Persia%20%28USA%29.png"],
  ["puggsy.zip", "Puggsy", "Puggsy%20%28USA%29.png"],
  ["pulseman.zip", "Pulseman", "Pulseman%20%28Japan%29.png"],
  ["quakshot.zip", "QuackShot Starring Donald Duck", "QuackShot%20Starring%20Donald%20Duck%20%28USA%29.png"],
  ["raidentr.zip", "Raiden Trad", "Raiden%20Trad%20%28USA%29.png"],
  ["rainbowe.zip", "Rainbow Islands - The Story of Bubble Bobble 2", "Rainbow%20Islands%20-%20The%20Story%20of%20Bubble%20Bobble%202%20%28USA%29.png"],
  ["rampart.zip", "Rampart", "Rampart%20%28USA%29.png"],
  ["rangerx.zip", "Ranger-X", "Ranger-X%20%28USA%29.png"],
  ["rastan2.zip", "Rastan Saga II", "Rastan%20Saga%20II%20%28USA%29.png"],
  ["rshinobi.zip", "Revenge of Shinobi, The", "Revenge%20of%20Shinobi%2C%20The%20%28USA%29.png"],
  ["riskywoo.zip", "Risky Woods", "Risky%20Woods%20%28USA%29.png"],
  ["ristar.zip", "Ristar", "Ristar%20%28USA%29.png"],
  ["roll.zip", "Rolling Thunder 2", "Rolling%20Thunder%202%20%28USA%29.png"],
  ["rolo.zip", "Rolo to the Rescue", "Rolo%20to%20the%20Rescue%20%28USA%29.png"],
  ["secsamur.zip", "Second Samurai", "Second%20Samurai%20%28Europe%29.png"],
  ["shadow.zip", "Shadow Dancer - The Secret of Shinobi", "Shadow%20Dancer%20-%20The%20Secret%20of%20Shinobi%20%28USA%29.png"],
  ["sbeast2.zip", "Shadow of the Beast II", "Shadow%20of%20the%20Beast%20II%20%28Europe%29.png"],
  ["shinobi3.zip", "Shinobi III - Return of the Ninja Master", "Shinobi%20III%20-%20Return%20of%20the%20Ninja%20Master%20%28USA%29.png"],
  ["skeleton.zip", "Skeleton Krew", "Skeleton%20Krew%20%28USA%29.png"],
  ["smurfs.zip", "Smurfs, The", "Smurfs%2C%20The%20%28Europe%29.png"],
  ["smurfs2.zip", "The Smurfs 2", null],
  ["snowbro.zip", "Snow Bros. - Nick & Tom", "Snow%20Bros.%20-%20Nick%20%26%20Tom%20%28USA%29.png"],
  ["soldeace.zip", "Sol-Deace", "Sol-Deace%20%28USA%29.png"],
  ["sonic3d.zip", "Sonic 3D Blast", "Sonic%203D%20Blast%20%28USA%29.png"],
  ["sonicsb.zip", "Sonic Spinball", "Sonic%20Spinball%20%28USA%29.png"],
  ["sonic1.zip", "Sonic the Hedgehog", "Sonic%20the%20Hedgehog%20%28USA%29.png"],
  ["sonic2.zip", "Sonic the Hedgehog 2", "Sonic%20the%20Hedgehog%202%20%28USA%29.png"],
  ["sonic3.zip", "Sonic the Hedgehog 3", "Sonic%20the%20Hedgehog%203%20%28USA%29.png"],
  ["sharrie2.zip", "Space Harrier II", "Space%20Harrier%20II%20%28Europe%29.png"],
  ["sparkstr.zip", "Sparkster", "Sparkster%20%28USA%29.png"],
  ["speedy.zip", "Speedy Gonzales - Cheesy Rescue", "Speedy%20Gonzales%20-%20Cheesy%20Rescue%20%28USA%29.png"],
  ["spotl.zip", "Spot Goes to Hollywood", "Spot%20Goes%20to%20Hollywood%20%28USA%29.png"],
  ["star_con.zip", "Star Control", "Star%20Control%20%28USA%29.png"],
  ["storm.zip", "Stormlord", "Stormlord%20%28USA%29.png"],
  ["strider.zip", "Strider", "Strider%20%28USA%29.png"],
  ["strider2.zip", "Strider II", "Strider%20II%20%28Europe%29.png"],
  ["subte.zip", "Sub-Terrania", "Sub-Terrania%20%28USA%29.png"],
  ["superh.zip", "Super Hang-On", "Super%20Hang-On%20%28USA%29.png"],
  ["synd.zip", "Syndicate", "Syndicate%20%28USA%29.png"],
  ["tazmania.zip", "Taz-Mania", "Taz-Mania%20%28USA%29.png"],
  ["tetrsbl.zip", "Tetris", "Tetris%20%28USA%29.png"],
  ["themepkr.zip", "Theme Park", "Theme%20Park%20%28USA%29.png"],
  ["thunder2.zip", "Thunder Force II", "Thunder%20Force%20II%20%28USA%29.png"],
  ["thunder3.zip", "Thunder Force III", "Thunder%20Force%20III%20%28USA%29.png"],
  ["thunder4.zip", "Thunder Force IV", "Thunder%20Force%20IV%20%28Europe%29.png"],
  ["tinytoon.zip", "Tiny Toon Adventures - Buster's Hidden Treasure", "Tiny%20Toon%20Adventures%20-%20Buster%27s%20Hidden%20Treasure%20%28USA%29.png"],
  ["toej.zip", "ToeJam & Earl", "ToeJam%20%26%20Earl%20%28USA%29.png"],
  ["toki.zip", "Toki - Going Ape Spit", "Toki%20-%20Going%20Ape%20Spit%20%28USA%29.png"],
  ["tom_and_jerry.zip", "Tom and Jerry - Frantic Antics", "Tom%20and%20Jerry%20-%20Frantic%20Antics%20%28USA%29.png"],
  ["toystory.zip", "Toy Story", "Toy%20Story%20%28USA%29.png"],
  ["truelies.zip", "True Lies", "True%20Lies%20%28USA%29.png"],
  ["truxton.zip", "Truxton", "Truxton%20%28Europe%29.png"],
  ["turri.zip", "Turrican", "Turrican%20%28USA%29.png"],
  ["twinhawk.zip", "Twin Hawk", "Twin%20Hawk%20%28Europe%29.png"],
  ["undeal.zip", "Undead Line", "Undead%20Line%20%28Japan%29.png"],
  ["vector2.zip", "Vectorman 2", "Vectorman%202%20%28USA%29.png"],
  ["vfvs2.zip", "Virtua Fighter 2", "Virtua%20Fighter%202%20%28USA%29.png"],
  ["virtu.zip", "Virtua Racing", "Virtua%20Racing%20%28USA%29.png"],
  ["wardner.zip", "Wardner", "Wardner%20%28USA%29.png"],
  ["wolf.zip", "Wolfchild", "Wolfchild%20%28USA%29.png"],
  ["wboymowo.zip", "Wonder Boy in Monster World", "Wonder%20Boy%20in%20Monster%20World%20%28USA%29.png"],
  ["worms.zip", "Worms", "Worms%20%28Europe%29.png"],
  ["xmen.zip", "X-Men", "X-Men%20%28USA%29.png"],
  ["xmen2.zip", "X-Men 2 - Clone Wars", "X-Men%202%20-%20Clone%20Wars%20%28Europe%29.png"],
  ["xenon_2.zip", "Xenon 2 - Megablast", "Xenon%202%20-%20Megablast%20%28USA%29.png"],
  ["zerowing.zip", "Zero Wing", "Zero%20Wing%20%28Europe%29.png"],
  ["zombies.zip", "Zombies Ate My Neighbors", "Zombies%20Ate%20My%20Neighbors%20%28USA%29.png"]
];

const gamesCatalog = _g.map(([id, title, coverFile]) => ({
  id,
  title,
  platform: "Mega Drive",
  year: "199X",
  file: S + id,
  cover: coverFile ? (B + coverFile) : null,
  coverUrls: generateUrls(title, coverFile)
}));